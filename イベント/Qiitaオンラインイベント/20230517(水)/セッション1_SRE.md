## 「SREによる信頼性の高いサービス提供への挑戦～定量的観測と改善のサイクルによるデータドリブンなサービス品質管理～」

要約

- デリバリーを優先すると、信頼性を考慮できずに運用・保守の工数が増加する。
- 開発と運用を統合するDevOpsを導入しましたが、開発スピードが低下するだけだった。
- "十分に"信頼性を考慮するという言葉は曖昧
- 完璧なシステムを作ることは不可能。

これらの問題を解決するために、SRE（Site Reliability Engineering）を導入しました。具体的な内容は以下の通り。

- 問題発生の予防に取り組む。
  - 障害発生を前提にシステム設計や開発を行う。

- 信頼性を進めるために具体的な指標や目標を設定する。
  - SLA（Service Level Agreement）: サービスの信頼性レベルの保証事項
  - SLI（Service Level Indicator）: 保証事項に対する定量的な指標
  - SLO（Service Level Objective）: 各SLI指標の維持目標値
  - Error Budget（予算、許容範囲）: SLOの達成度合いを示し、維持または改善の判断指標とする。
  - Error Budgetポリシーを作成する。

SREの導入手順は次の通り。

1. SLAとSLIを定義する。
   - SLAでは求めるレベルの項目を定義します（サービス稼働率、リクエスト成功率など）。定量的な数字で要求レベルを明確にする。
   - SLIは計測可能な状態に落とし込む。

2. SLIを計測し、計測結果をダッシュボードにまとめる（DATADOG、X-ray、Lambdaなどのツールを使用）。

3. SLOを設定する。
   - SLIの計測結果を把握した後に設定する。
   - マストラインと目標ラインの2つを設定する。

4. Error Budgetを監視し、SLOの達成を前提に維持および改善活動を行う。

5. 定期的に全体を見直し、必要に応じてリソースの投下や理想値の引き下げ、SLAの更新を行います。サービスは常に変化するため、SLAは随時更新される。


-----------------------------
メモ

・デリバリーを優先すると、信頼性を考慮できず運用・保守の工数が膨大化する。
・開発と運用を統合するDevOpsを作成したが、開発スピードが落ちるだけだった。
・「十分に」信頼性を考慮して開発を進めるの「十分に」という言葉が曖昧。
・完璧なシステムを作ることは不可能。

これらを踏まえ、SREを導入した
・問題発生の予防に着手
└障害発生を前提にシステム設計、開発

・具体的な指標や目標を以て信頼性を進められる。

SLA　サービスの信頼性レベルの保証事項
SLI　保証事項に対する定量的な指標
SLO　各SLI指標の維持目標値
Error Budget（予算、許容範囲）　達成度合い
⇒維持か改善するかの判断指標とする。
⇒Error Budgetポリシーを作成する

SREを開始する流れ
①SLA・SLIを定義
⇒SLA
　求めることと保証したいレベル項目の定義
　サービス稼働率、リクエスト成功率など
　どこまで求めるかを定量的な数字で定義する
⇒SLI
　計測可能な状態に落とし込む

②SLIを計測
⇒DATADOG、X-ray、Lambdaなどを用いて計測してDashboardにまとめる

③SLOを設定
⇒SLIの計測をした後、現状を把握してから設定するべき。
⇒マストラインと目標ラインを２つ決める。

④Error Budgetを監視し、SLOを達成する前提で維持、改善活動を行う
⑤定期的に全体見直し
⇒リソースの投下 or 理想値の引き下げ
⇒サービスは常に変化するためSLAは随時更新すべき。
